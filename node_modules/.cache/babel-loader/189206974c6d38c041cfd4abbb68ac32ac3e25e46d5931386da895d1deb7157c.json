{"ast":null,"code":"import React,{useEffect}from'react';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faGoogle}from'@fortawesome/free-brands-svg-icons';import{faTimes}from'@fortawesome/free-solid-svg-icons';import{useAuthContext}from'../hooks/useAuthContext';import'./LoginModal.css';// Assuming you have an external CSS file for styles\n// Add any necessary imports here\n// For example, if you're using a context or hooks for authentication\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const LoginModal=_ref=>{let{close}=_ref;// This function will handle the Google login process\nconst{dispatch}=useAuthContext();const handleButtonClick=()=>{window.location.href=\"http://localhost:4000/auth\";};useEffect(()=>{const fetchUser=async()=>{console.log(\"fetching user\");const response=await fetch(\"http://localhost:4000/auth/googleUser\",{credentials:'include',mode:'cors'});console.log(\"fetched user:\");const json=await response.json();console.log(json);if(response.ok){dispatch({type:\"LOGIN\",payload:json});}};fetchUser();},[dispatch]);return/*#__PURE__*/_jsx(\"div\",{className:\"login-modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-modal-content\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"login-modal-close\",onClick:close,children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTimes})}),/*#__PURE__*/_jsxs(\"button\",{className:\"login-google-btn\",onClick:handleButtonClick,children:[/*#__PURE__*/_jsx(\"span\",{children:\"Sign in with Google\"}),/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faGoogle,className:\"google-icon\"})]})]})});};export default LoginModal;","map":{"version":3,"names":["React","useEffect","FontAwesomeIcon","faGoogle","faTimes","useAuthContext","jsx","_jsx","jsxs","_jsxs","LoginModal","_ref","close","dispatch","handleButtonClick","window","location","href","fetchUser","console","log","response","fetch","credentials","mode","json","ok","type","payload","className","children","onClick","icon"],"sources":["/Users/ashwin/Downloads/echo.github.io/src/components/LoginModal.js"],"sourcesContent":["import React, {useEffect} from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faGoogle } from '@fortawesome/free-brands-svg-icons';\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\nimport { useAuthContext } from '../hooks/useAuthContext';\nimport './LoginModal.css'; // Assuming you have an external CSS file for styles\n\n// Add any necessary imports here\n// For example, if you're using a context or hooks for authentication\n\nconst LoginModal = ({ close }) => {\n  // This function will handle the Google login process\n  const { dispatch } = useAuthContext();\n\n  const handleButtonClick = () => {\n    window.location.href = \"http://localhost:4000/auth\";\n  };\n\n  useEffect(() => {\n    const fetchUser = async () => {\n      console.log(\"fetching user\");\n\n\n      const response = await fetch(\"http://localhost:4000/auth/googleUser\", {\n        credentials: 'include',\n        mode: 'cors'\n      });\n\n      console.log(\"fetched user:\");\n\n  \n      const json = await response.json();\n      console.log(json);\n  \n      if (response.ok) {\n        dispatch({ type: \"LOGIN\", payload: json })\n      }\n    };\n  \n    fetchUser();\n  }, [dispatch]);\n  return (\n    <div className=\"login-modal\">\n      <div className=\"login-modal-content\">\n        <button className=\"login-modal-close\" onClick={close}>\n          <FontAwesomeIcon icon={faTimes} />\n        </button>        \n        <button className=\"login-google-btn\" onClick={handleButtonClick}>\n          <span>Sign in with Google</span>\n          <FontAwesomeIcon icon={faGoogle} className=\"google-icon\" />\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default LoginModal;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,SAAS,KAAO,OAAO,CACtC,OAASC,eAAe,KAAQ,gCAAgC,CAChE,OAASC,QAAQ,KAAQ,oCAAoC,CAC7D,OAASC,OAAO,KAAQ,mCAAmC,CAC3D,OAASC,cAAc,KAAQ,yBAAyB,CACxD,MAAO,kBAAkB,CAAE;AAE3B;AACA;AAAA,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEA,KAAM,CAAAC,UAAU,CAAGC,IAAA,EAAe,IAAd,CAAEC,KAAM,CAAC,CAAAD,IAAA,CAC3B;AACA,KAAM,CAAEE,QAAS,CAAC,CAAGR,cAAc,CAAC,CAAC,CAErC,KAAM,CAAAS,iBAAiB,CAAGA,CAAA,GAAM,CAC9BC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,4BAA4B,CACrD,CAAC,CAEDhB,SAAS,CAAC,IAAM,CACd,KAAM,CAAAiB,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5BC,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC,CAG5B,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,uCAAuC,CAAE,CACpEC,WAAW,CAAE,SAAS,CACtBC,IAAI,CAAE,MACR,CAAC,CAAC,CAEFL,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC,CAG5B,KAAM,CAAAK,IAAI,CAAG,KAAM,CAAAJ,QAAQ,CAACI,IAAI,CAAC,CAAC,CAClCN,OAAO,CAACC,GAAG,CAACK,IAAI,CAAC,CAEjB,GAAIJ,QAAQ,CAACK,EAAE,CAAE,CACfb,QAAQ,CAAC,CAAEc,IAAI,CAAE,OAAO,CAAEC,OAAO,CAAEH,IAAK,CAAC,CAAC,CAC5C,CACF,CAAC,CAEDP,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,CAACL,QAAQ,CAAC,CAAC,CACd,mBACEN,IAAA,QAAKsB,SAAS,CAAC,aAAa,CAAAC,QAAA,cAC1BrB,KAAA,QAAKoB,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAClCvB,IAAA,WAAQsB,SAAS,CAAC,mBAAmB,CAACE,OAAO,CAAEnB,KAAM,CAAAkB,QAAA,cACnDvB,IAAA,CAACL,eAAe,EAAC8B,IAAI,CAAE5B,OAAQ,CAAE,CAAC,CAC5B,CAAC,cACTK,KAAA,WAAQoB,SAAS,CAAC,kBAAkB,CAACE,OAAO,CAAEjB,iBAAkB,CAAAgB,QAAA,eAC9DvB,IAAA,SAAAuB,QAAA,CAAM,qBAAmB,CAAM,CAAC,cAChCvB,IAAA,CAACL,eAAe,EAAC8B,IAAI,CAAE7B,QAAS,CAAC0B,SAAS,CAAC,aAAa,CAAE,CAAC,EACrD,CAAC,EACN,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAnB,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}